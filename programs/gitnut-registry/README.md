# GitNut Registry Program (Anchor / Solana)

GitNut Registry is the on-chain source-of-truth for:

- Project identities (immutable origin + repository coordinates)
- Version publishing (content-addressed releases)
- Maintainer / ownership controls
- Policy gates (license + content constraints)
- Attestation verification (signed statements about sources/builds)

## What this program is (and is not)

This program does **not** "run Web2 code on-chain".
Instead, it stores verifiable metadata that allows anyone to:

- map a Git repository + commit/tag to an immutable on-chain Project record
- publish Versions with content hashes pointing to storage (Arweave/S3/R2/etc)
- attach and verify attestations (source/build/SBOM)
- enforce minimal policy gates (license allow-list, size constraints, etc.)

GitNut's worker/api/indexer treat this program as the canonical registry.

## Accounts

- `Registry` (PDA): global configuration and policy defaults
- `Project` (PDA): unique per project slug (or repo coordinate), owned by maintainers
- `Version` (PDA): immutable release record linked to a project

## Instructions

- `initialize`
- `register_project`
- `publish_version`
- `set_maintainers`
- `set_policy`
- `verify_attestation`
- `deprecate_version`
- `transfer_project`
- `close_project`

## Build & Test

```bash
anchor build
anchor test
```

## Notes

- IDL is generated by Anchor (`anchor build` / `anchor idl build`).
- The `idl/` folder in this repo is a committed snapshot for SDK consumers.
